.row
  .col-md-3
    .bs-sidebar.affix{role: 'complementary'}
      %ul.nav.nav-pills.nav-stacked
        %li{ class: "active" }
          = link_to "Client Profile", clients_path
        %li
          = link_to "Client Saving Score", positions_path
  .col-md-9
    .panel.panel-default
      .panel-heading
        %h3.panel-title
          Customer Profile
        .panel-heading-action
          = link_to new_client_path, class: 'btn btn-default btn-xs' do
            %span.glyphicon.glyphicon-plus
            Add New
      .panel-body
        - if @clients.empty?
          = render 'shared/none', { title: 'No Client Profile Yet.', link_text: 'Add a new client', link_url: new_client_path }
        - else
          %table.table.table-hover
            %thead
              %th #
              %th Title
              %th Name
              %th Gender
              %th Birthdate
              %th Address
              %th Contact
              %th
            %tbody
              - @clients.each_with_index do |client, index|
                %tr
                  %td= index + 1
                  %td= client.title
                  %td= client.full_name
                  %td= client.gender
                  %td= display_as_birthday(client.birth_date)
                  %td= truncate(client.address, :length => 20)
                  %td
                    %ul.nav.nav-pills.nav-stacked
                      - client.communications.each do |communication|
                        %li= communication.value
                  %td
                    .pull-right
                      = link_to edit_client_path(client), { class: 'link_action btn btn-default btn-xs', data: { original_title: 'Edit', rel: 'tooltip'}} do
                        %span.glyphicon.glyphicon-pencil
          = will_paginate @clients